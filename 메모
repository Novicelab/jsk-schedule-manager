● 현재 프로젝트에 설치된 에이전트 현황과 사용법을 정리해 드릴게요.

  ---
  설치된 에이전트 (.claude/agents/)

  ┌───────────┬───────────────┬────────────────────────────────────────────┐
  │ 에이전트  │     모델      │                    역할                    │
  ├───────────┼───────────────┼────────────────────────────────────────────┤
  │ planner   │ Claude Opus   │ 기획, 요구사항 분석, 사용자 스토리 작성    │
  ├───────────┼───────────────┼────────────────────────────────────────────┤
  │ designer  │ Claude Opus   │ 아키텍처, ERD, 클래스 다이어그램, API 설계 │
  ├───────────┼───────────────┼────────────────────────────────────────────┤
  │ developer │ Claude Sonnet │ Java 코드 구현, 버그 수정, 리팩토링        │
  ├───────────┼───────────────┼────────────────────────────────────────────┤
  │ qa        │ Claude Sonnet │ 테스트 케이스 작성, 버그 리포트            │
  └───────────┴───────────────┴────────────────────────────────────────────┘

  ---
  사용 방법

  1. 자동 호출 (키워드 트리거)

  대화 중 특정 키워드가 포함되면 Claude가 자동으로 적합한 에이전트를 서브에이전트로 호출합니다.

  ┌───────────────────────────────────────────────────────────┬───────────────────┐
  │                        키워드 예시                        │ 호출되는 에이전트 │
  ├───────────────────────────────────────────────────────────┼───────────────────┤
  │ "기획해줘", "요구사항 정리", "사용자 스토리"              │ planner           │
  ├───────────────────────────────────────────────────────────┼───────────────────┤
  │ "설계해줘", "ERD 그려줘", "API 설계", "클래스 다이어그램" │ designer          │
  ├───────────────────────────────────────────────────────────┼───────────────────┤
  │ "구현해줘", "코드 작성", "개발해줘", "버그 수정"          │ developer         │
  ├───────────────────────────────────────────────────────────┼───────────────────┤
  │ "테스트 코드", "QA", "버그 찾아줘", "품질 검토"           │ qa                │
  └───────────────────────────────────────────────────────────┴───────────────────┘

  예시:
  "로그인 기능을 설계해줘"  →  designer 에이전트 자동 호출
  "일정 생성 API를 구현해줘"  →  developer 에이전트 자동 호출

  2. 슬래시 명령어로 명시적 호출

  CLAUDE.md에 정의된 슬래시 명령어로 직접 호출할 수도 있습니다.

  /plan   → planner 에이전트
  /design → designer 에이전트
  /dev    → developer 에이전트
  /qa     → qa 에이전트

  ---
  에이전트별 특징 요약

  planner — 기능명, 목적, 사용자 스토리, 기능 명세, MoSCoW 우선순위 형식으로 산출물 제공

  designer — ASCII/텍스트 UML, ERD, API 명세(JSON 예시), 패키지 구조(디렉토리 트리) 형식으로 제공

  developer — 코드 읽기/쓰기 권한 보유 (Read, Glob, Grep, Edit, Write), 실제 파일 수정 가능한 유일한 에이전트

  qa — 읽기 전용(Read, Glob, Grep), AAA 패턴 + 메서드명_상황_기대결과 네이밍으로 JUnit 5 테스트 코드 작성





● 프로젝트의 현황을 종합적으로 파악하기 위해 관련 문서들을 확인하겠습니다.

● Read 3 files (ctrl+o to expand)

● 프로젝트의 현황을 개발 계획, 구축 현황, 스펙 구현 현황 3가지로 정리해드리겠습니다.

  ---
  📋 개발 계획 현황

  ┌─────────────┬────────────┬───────────────────────────────────────────────────────────────┐
  │    단계     │    상태    │                             설명                              │
  ├─────────────┼────────────┼───────────────────────────────────────────────────────────────┤
  │ 1. 기획     │ ✅ 완료    │ 서비스 컨셉, 핵심 정책, 사용자 스토리 정의 완료               │
  ├─────────────┼────────────┼───────────────────────────────────────────────────────────────┤
  │ 2. 설계     │ ✅ 완료    │ 시스템 아키텍처, ERD, API 설계, 패키지 구조 설계 완료         │
  ├─────────────┼────────────┼───────────────────────────────────────────────────────────────┤
  │ 3. 개발     │ ✅ 완료    │ 백엔드 62개 + 프론트엔드 14개 + 공통 15개 = 총 91개 파일 구현 │
  ├─────────────┼────────────┼───────────────────────────────────────────────────────────────┤
  │ 4. 테스트   │ ✅ 완료    │ QA 7개 버그 발견 & 수정, JUnit 5 테스트 47개 작성 완료        │
  ├─────────────┼────────────┼───────────────────────────────────────────────────────────────┤
  │ 5. 배포     │ ✅ 완료    │ Render에 프로덕션 배포 (라이브 운영)                          │
  ├─────────────┼────────────┼───────────────────────────────────────────────────────────────┤
  │ 6. 유지보수 │ 🔄 진행 중 │ UI/UX 개선, 버그 수정 진행                                    │
  └─────────────┴────────────┴───────────────────────────────────────────────────────────────┘

  ---
  🚀 구축 현황

  기술 스택 (확정)

  - 언어: Java 17
  - 백엔드: Spring Boot 3.2.x
  - 프론트엔드: React + Vite + FullCalendar + Tailwind CSS
  - 데이터베이스: Supabase (PostgreSQL) + PgBouncer 커넥션 풀링
  - 인증: 카카오 OAuth 2.0 + JWT (30일 Refresh Token)
  - 알림: 카카오톡 알림톡 API (@Async 비동기 처리)
  - 배포: Docker (Backend) + Static Site (Frontend) on Render
  - CI/CD: GitHub 자동 배포

  배포 상태 ✅

  ┌──────────┬────────────────────────────────────────────┬─────────┐
  │  서비스  │                    URL                     │  상태   │
  ├──────────┼────────────────────────────────────────────┼─────────┤
  │ Backend  │ https://jsk-schedule-backend.onrender.com  │ 🟢 Live │
  ├──────────┼────────────────────────────────────────────┼─────────┤
  │ Frontend │ https://jsk-schedule-frontend.onrender.com │ 🟢 Live │
  ├──────────┼────────────────────────────────────────────┼─────────┤
  │ Database │ Supabase PostgreSQL (Singapore)            │ 🟢 Live │
  └──────────┴────────────────────────────────────────────┴─────────┘

  ---
  📊 개발 스펙 구현 현황

  Must Have (필수 기능) - 모두 구현 완료 ✅

  ┌───────────┬───────────────────────────┬──────┬───────────────────────────────┐
  │    ID     │          기능명           │ 상태 │             비고              │
  ├───────────┼───────────────────────────┼──────┼───────────────────────────────┤
  │ F-AUTH-01 │ 회원가입 (카카오 OAuth)   │ ✅   │ 자동 가입 처리                │
  ├───────────┼───────────────────────────┼──────┼───────────────────────────────┤
  │ F-AUTH-02 │ 로그인/로그아웃           │ ✅   │ JWT + Refresh Token           │
  ├───────────┼───────────────────────────┼──────┼───────────────────────────────┤
  │ F-TEAM-01 │ 팀 생성                   │ ✅   │ 생성자 자동 Admin 부여        │
  ├───────────┼───────────────────────────┼──────┼───────────────────────────────┤
  │ F-TEAM-02 │ 팀원 초대/추방            │ ✅   │ 카카오톡 초대 링크 (7일 유효) │
  ├───────────┼───────────────────────────┼──────┼───────────────────────────────┤
  │ F-SCH-01  │ 일정 등록                 │ ✅   │ 팀/휴가 유형 분리             │
  ├───────────┼───────────────────────────┼──────┼───────────────────────────────┤
  │ F-SCH-02  │ 일정 조회                 │ ✅   │ 팀원/비소속 권한 분리         │
  ├───────────┼───────────────────────────┼──────┼───────────────────────────────┤
  │ F-SCH-03  │ 일정 수정                 │ ✅   │ 본인 또는 Admin만 가능        │
  ├───────────┼───────────────────────────┼──────┼───────────────────────────────┤
  │ F-SCH-04  │ 일정 삭제 (소프트 딜리트) │ ✅   │ 물리 삭제 금지                │
  ├───────────┼───────────────────────────┼──────┼───────────────────────────────┤
  │ F-NTF-01  │ 카카오톡 알림 (CRUD)      │ ✅   │ 비동기 처리, 최대 3회 재시도  │
  ├───────────┼───────────────────────────┼──────┼───────────────────────────────┤
  │ F-CAL-01  │ 월간 캘린더 뷰            │ ✅   │ FullCalendar 통합             │
  └───────────┴───────────────────────────┴──────┴───────────────────────────────┘

  Should Have (중요 기능) - 대부분 구현 ✅

  ┌───────────┬───────────────────────────┬──────┬─────────────────────────┐
  │    ID     │          기능명           │ 상태 │          비고           │
  ├───────────┼───────────────────────────┼──────┼─────────────────────────┤
  │ F-AUTH-04 │ 프로필 수정               │ ✅   │ 사용자 이름 수정 가능   │
  ├───────────┼───────────────────────────┼──────┼─────────────────────────┤
  │ F-TEAM-03 │ 팀 정보 수정              │ ✅   │ 팀 이름/설명 수정       │
  ├───────────┼───────────────────────────┼──────┼─────────────────────────┤
  │ F-TEAM-04 │ Admin 역할 위임           │ ✅   │ Member → Admin 승격     │
  ├───────────┼───────────────────────────┼──────┼─────────────────────────┤
  │ F-TEAM-05 │ 팀 자발적 탈퇴            │ ✅   │ 단, Admin만 남으면 불가 │
  ├───────────┼───────────────────────────┼──────┼─────────────────────────┤
  │ F-CAL-02  │ 주간/일간 뷰              │ ✅   │ 캘린더 뷰 전환 가능     │
  ├───────────┼───────────────────────────┼──────┼─────────────────────────┤
  │ F-CAL-03  │ 색상 구분 (VACATION/TEAM) │ ✅   │ 시각적 구분             │
  └───────────┴───────────────────────────┴──────┴─────────────────────────┘

  최근 개선 사항 (2026-02-20 ~ 21)

  ┌───────────────────┬─────────────────────────────────────────────────────────┐
  │       항목        │                        변경사항                         │
  ├───────────────────┼─────────────────────────────────────────────────────────┤
  │ 로그인 페이지     │ ID/비밀번호 로그인 제거 → 카카오톡 소셜 로그인으로 통합 │
  ├───────────────────┼─────────────────────────────────────────────────────────┤
  │ 일정 생성 모달 UI │ 스카이스캐너 방식 날짜 범위 선택 (react-datepicker)     │
  ├───────────────────┼─────────────────────────────────────────────────────────┤
  │ 일정 유형 분기    │ 팀 일정(시간 O) vs 휴가(날짜만) 별도 UI                 │
  ├───────────────────┼─────────────────────────────────────────────────────────┤
  │ 날짜 오프셋 버그  │ toISOString 제거, 타임존 안전 포맷 적용                 │
  ├───────────────────┼─────────────────────────────────────────────────────────┤
  │ 보안 강화         │ CalendarPage teamId null 체크 추가                      │
  └───────────────────┴─────────────────────────────────────────────────────────┘

  ---
  🗄️데이터베이스 스키마 현황

  7개 메인 테이블 구현 완료:
  - users - 사용자 정보 (카카오 연동)
  - teams - 팀 정보
  - team_members - 팀 멤버 (ADMIN/MEMBER 역할)
  - schedules - 일정 (소프트 딜리트)
  - team_invitations - 팀 초대 (7일 유효)
  - notifications - 알림 이력 (발송 상태 추적)
  - refresh_tokens - JWT Refresh Token (30일)

  ---
  📈 API 엔드포인트 현황

  - 인증: 3개 (로그인, 토큰 재발급, 로그아웃)
  - 사용자: 2개 (프로필 조회, 프로필 수정)
  - 팀: 9개 (CRUD, 팀원 관리, 초대/거절)
  - 일정: 6개 (CRUD, 아카이브 조회)

  총 20개 이상의 REST API 구현 완료 ✅

  ---
  🎯 다음 진행 방향

  현재 프로덕션 라이브 운영 상태입니다. 추가 개선 사항이 있다면:
  - UI/UX 사용자 피드백 반영
  - 성능 최적화 (캘린더 렌더링, API 응답 속도)
  - 선택 기능 추가 (아카이브 조회, 반복 일정 등 - V2)esc












알림 메시지 발송 기능 구현 필요

1. 발송 조건
# 타인이 신규 일정 등록/수정/삭제 시
## 알림 발송 여부는 별도의 관리 메뉴에서 on/off로 설정할 수 있도록 구현할 것
### 알림 발송 여부 관리 대상
- '유형'과 상태에 따라 구분하며, 하기와 같이 토글 버튼으로 구현
- '마이페이지'를 하나 만들고, 그 안에 '알림' 메뉴 추가 (알림 발송 여부 관리 메뉴)


[A] 유형 = 휴가
 1) 휴가 & 등록 시
 2) 휴가 & 수정 시
 3) 휴가 & 삭제 시

[B] 유형 =업무
 1) 업무 & 등록 시
 2) 업무 & 수정 시
 3) 업무 & 삭제 시



## 알림의 수신자
- 가입한 모든 사용자
- 단, 각자의 알림 발송 여부 설정값을 따름


##알림 형태
카카오톡으로 받을 수 있는 거면 어떤 형태던 관계 없음


## 각 케이스 별 알림 문구
[A] 유형 = 휴가
 1) 휴가 & 등록 시
   - [%name%] 휴가 등록
     일자 : yyyy-mm-dd ~ yyyy-mm-dd

 2) 휴가 & 수정 시
   - [%name%] 휴가 일정 수정
     변경 전 : yyyy-mm-dd ~ yyyy-mm-dd
     변경 후 : yyyy-mm-dd ~ yyyy-mm-dd

 3) 휴가 & 삭제 시
   - [%name%] 휴가 삭제
     일자 : yyyy-mm-dd ~ yyyy-mm-dd


[B] 유형 =업무
 1) 업무 & 등록 시
   - [%name%] %title% 등록
     일자 : yyyy-mm-dd ~ yyyy-mm-dd
     시간 : hh:mm ~ hh:mm

 2) 업무 & 수정 시
   - [%name%] %title% 수정
     일자 : yyyy-mm-dd ~ yyyy-mm-dd
     시간 : hh:mm ~ hh:mm

 3) 업무 & 삭제 시
   - [%name%] %title% 삭제


